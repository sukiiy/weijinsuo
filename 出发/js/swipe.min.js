function Swipe(n,t){"use strict";var e=function(){};var i=function(n){setTimeout(n||e,0)};var a={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(n){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var e in t)if(n.style[t[e]]!==undefined)return true;return false}(document.createElement("swipe"))};if(!n)return;var s=n.children[0];var o,r,u,f;t=t||{};var l=parseInt(t.startSlide,10)||0;var c=t.speed||300;t.continuous=t.continuous!==undefined?t.continuous:true;function d(){o=s.children;f=o.length;if(o.length<2)t.continuous=false;if(a.transitions&&t.continuous&&o.length<3){s.appendChild(o[0].cloneNode(true));s.appendChild(s.children[1].cloneNode(true));o=s.children}r=new Array(o.length);u=n.getBoundingClientRect().width||n.offsetWidth;s.style.width=o.length*u+"px";var e=o.length;while(e--){var i=o[e];i.style.width=u+"px";i.setAttribute("data-index",e);if(a.transitions){i.style.left=e*-u+"px";E(e,l>e?-u:l<e?u:0,0)}}if(t.continuous&&a.transitions){E(w(l-1),-u,0);E(w(l+1),u,0)}if(!a.transitions)s.style.left=l*-u+"px";n.style.visibility="visible"}function v(){if(t.continuous)p(l-1);else if(l)p(l-1)}function h(){if(t.continuous)p(l+1);else if(l<o.length-1)p(l+1)}function w(n){return(o.length+n%o.length)%o.length}function p(n,e){if(l==n)return;if(a.transitions){var s=Math.abs(l-n)/(l-n);if(t.continuous){var f=s;s=-r[w(n)]/u;if(s!==f)n=-s*o.length+n}var d=Math.abs(l-n)-1;while(d--)E(w((n>l?n:l)-d-1),u*s,0);n=w(n);E(l,u*s,e||c);E(n,0,e||c);if(t.continuous)E(w(n-s),-(u*s),0)}else{n=w(n);x(l*-u,n*-u,e||c)}l=n;i(t.callback&&t.callback(l,o[l]))}function E(n,t,e){m(n,t,e);r[n]=t}function m(n,t,e){var i=o[n];var a=i&&i.style;if(!a)return;a.webkitTransitionDuration=a.MozTransitionDuration=a.msTransitionDuration=a.OTransitionDuration=a.transitionDuration=e+"ms";a.webkitTransform="translate("+t+"px,0)"+"translateZ(0)";a.msTransform=a.MozTransform=a.OTransform="translateX("+t+"px)"}function x(n,e,i){if(!i){s.style.left=e+"px";return}var a=+new Date;var r=setInterval(function(){var u=+new Date-a;if(u>i){s.style.left=e+"px";if(b)T();t.transitionEnd&&t.transitionEnd.call(event,l,o[l]);clearInterval(r);return}s.style.left=(e-n)*(Math.floor(u/i*100)/100)+n+"px"},4)}var b=t.auto||0;var g;function T(){g=setTimeout(h,b)}function y(){b=0;clearTimeout(g)}var L={};var k={};var D;var M={handleEvent:function(n){switch(n.type){case"touchstart":this.start(n);break;case"touchmove":this.move(n);break;case"touchend":i(this.end(n));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":i(this.transitionEnd(n));break;case"resize":i(d.call());break}if(t.stopPropagation)n.stopPropagation()},start:function(n){var t=n.touches[0];L={x:t.pageX,y:t.pageY,time:+new Date};D=undefined;k={};s.addEventListener("touchmove",this,false);s.addEventListener("touchend",this,false)},move:function(n){if(n.touches.length>1||n.scale&&n.scale!==1)return;if(t.disableScroll)n.preventDefault();var e=n.touches[0];k={x:e.pageX-L.x,y:e.pageY-L.y};if(typeof D=="undefined"){D=!!(D||Math.abs(k.x)<Math.abs(k.y))}if(!D){n.preventDefault();y();if(t.continuous){m(w(l-1),k.x+r[w(l-1)],0);m(l,k.x+r[l],0);m(w(l+1),k.x+r[w(l+1)],0)}else{k.x=k.x/(!l&&k.x>0||l==o.length-1&&k.x<0?Math.abs(k.x)/u+1:1);m(l-1,k.x+r[l-1],0);m(l,k.x+r[l],0);m(l+1,k.x+r[l+1],0)}}},end:function(n){var e=+new Date-L.time;var i=Number(e)<250&&Math.abs(k.x)>20||Math.abs(k.x)>u/2;var a=!l&&k.x>0||l==o.length-1&&k.x<0;if(t.continuous)a=false;var f=k.x<0;if(!D){if(i&&!a){if(f){if(t.continuous){E(w(l-1),-u,0);E(w(l+2),u,0)}else{E(l-1,-u,0)}E(l,r[l]-u,c);E(w(l+1),r[w(l+1)]-u,c);l=w(l+1)}else{if(t.continuous){E(w(l+1),u,0);E(w(l-2),-u,0)}else{E(l+1,u,0)}E(l,r[l]+u,c);E(w(l-1),r[w(l-1)]+u,c);l=w(l-1)}t.callback&&t.callback(l,o[l])}else{if(t.continuous){E(w(l-1),-u,c);E(l,0,c);E(w(l+1),u,c)}else{E(l-1,-u,c);E(l,0,c);E(l+1,u,c)}}}s.removeEventListener("touchmove",M,false);s.removeEventListener("touchend",M,false);b=t.auto||0},transitionEnd:function(n){if(parseInt(n.target.getAttribute("data-index"),10)==l){if(b)T();t.transitionEnd&&t.transitionEnd.call(n,l,o[l])}}};d();if(b)T();if(a.addEventListener){if(a.touch)s.addEventListener("touchstart",M,false);if(a.transitions){s.addEventListener("webkitTransitionEnd",M,false);s.addEventListener("msTransitionEnd",M,false);s.addEventListener("oTransitionEnd",M,false);s.addEventListener("otransitionend",M,false);s.addEventListener("transitionend",M,false)}window.addEventListener("resize",M,false)}else{window.onresize=function(){d()}}return{setup:function(){d()},start:function(){b=t.auto||0;T()},stop:function(){y()},slide:function(n,t){y();p(n,t)},prev:function(){y();v()},next:function(){y();h()},getPos:function(){return l},getNumSlides:function(){return f},kill:function(){y();s.style.width="auto";s.style.left=0;var n=o.length;while(n--){var t=o[n];t.style.width="100%";t.style.left=0;if(a.transitions)m(n,0,0)}if(a.addEventListener){s.removeEventListener("touchstart",M,false);s.removeEventListener("webkitTransitionEnd",M,false);s.removeEventListener("msTransitionEnd",M,false);s.removeEventListener("oTransitionEnd",M,false);s.removeEventListener("otransitionend",M,false);s.removeEventListener("transitionend",M,false);window.removeEventListener("resize",M,false)}else{window.onresize=null}}}}if(window.jQuery||window.Zepto){(function(n){n.fn.Swipe=function(t){return this.each(function(){n(this).data("Swipe",new Swipe(n(this)[0],t))})}})(window.jQuery||window.Zepto)}